(window.webpackJsonp=window.webpackJsonp||[]).push([[4,3],{316:function(e,t,n){var content=n(340);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(117).default)("5cae8f40",content,!0,{sourceMap:!1})},318:function(e,t,n){"use strict";n.r(t);var r,o,c=n(105),l=n(106),d=Object(l.b)(r||(r=Object(c.a)(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),f={components:{StyledSVG:Object(l.a)("svg",{size:String,stroke:String})(o||(o=Object(c.a)(["\n  animation: 2s "," linear infinite;\n  height: ",";\n  width: ",";\n  path {\n    stroke: #008800;\n  }\n"])),d,(function(e){return e.size}),(function(e){return e.size}))},props:{size:{type:String,default:"16px"},stroke:{type:String,default:null}}},h=n(56),component=Object(h.a)(f,(function(){var e=this,t=e._self._c;return t("StyledSVG",{attrs:{viewBox:"0 0 24 24",fill:"none",size:e.size,stroke:e.stroke}},[t("path",{attrs:{d:"M12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C17.5228 22 22 17.5228 22 12C22 9.27455 20.9097 6.80375 19.1414 5","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"}})])}),[],!1,null,null,null);t.default=component.exports},339:function(e,t,n){"use strict";n(316)},340:function(e,t,n){var r=n(116)((function(i){return i[1]}));r.push([e.i,".container[data-v-c0b56fcc]{align-items:center;display:flex;flex-direction:column;font-family:Arial,sans-serif;padding:20px;width:100%}img[data-v-c0b56fcc]{margin:20px 0;max-width:100%}button[data-v-c0b56fcc],input[type=file][data-v-c0b56fcc],input[type=range][data-v-c0b56fcc]{margin:10px 0}",""]),r.locals={},e.exports=r},343:function(e,t,n){"use strict";n.r(t);var r=n(19),o=n(282),c=n(14),l=(n(50),n(21),n(28),n(37),n(38),n(65),n(283),n(286),n(287),n(288),n(292),n(293),n(294),n(295),n(296),n(297),n(298),n(299),n(300),n(301),n(302),n(303),n(304),n(305),n(307),n(308),n(309),n(310),n(311),n(312),n(313),n(314),n(315),n(337)),d=function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(t){var n,r,o,c,d,i,f,h,m,v,w,canvas,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=[],r=t.split(",")[1],o=window.atob(r),c=o.length,d=new Uint8Array(c),i=0;i<c;i++)d[i]=o.charCodeAt(i);for(f=new l.GifReader(d),h=f.numFrames(),m=[],canvas=document.createElement("canvas"),i=0;i<h;i++)y=f.frameInfo(i),n.push(y.delay),0==i&&(canvas.width=y.width,canvas.height=y.height,w=canvas.getContext("2d")||new CanvasRenderingContext2D,v=w.createImageData(y.width,y.height)),f.decodeAndBlitFrameRGBA(i,v.data),w.putImageData(v,0,0),m.push(canvas.toDataURL("image/png"));return console.log({pngUris:m,delays:n}),e.abrupt("return",{pngUris:m,delays:n});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=n(338);n(55),n(41);var h=function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(t,n,r,o){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)})));return function(t,n,r,o){return e.apply(this,arguments)}}(),m=function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(t,n,r,o,c){var l,d,m,canvas,v,w,y,x,R,I,_,data,G,i,A,O,output,k,j;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(t,n,o,c);case 2:return l=e.sent,d=function(e){return new Promise((function(t,n){var img=new Image;img.onload=function(){return t(img)},img.onerror=n,img.src=e}))},e.next=6,Promise.all(l.map((function(e){return d(e)})));case 6:for(m=e.sent,canvas=document.createElement("canvas"),v=canvas.getContext("2d"),w=m[0].width,y=m[0].height,console.log({w:o}),canvas.width=w,canvas.height=y,x=m.map((function(img){return v.clearRect(0,0,canvas.width,canvas.height),v.drawImage(img,0,0),v.getImageData(0,0,canvas.width,canvas.height)})),R=x[0],I=R.width,_=R.height,data=x.map((function(e){return new Uint8Array(e.data)})),G=Object(f.GIFEncoder)(),i=0;i<data.length;i++)A=Object(f.quantize)(data[i],256,{format:"rgb444"}),O=Object(f.applyPalette)(data[i],A),console.log(r[i]),G.writeFrame(O,I,_,{palette:A,delay:10*r[i]});return G.finish(),output=G.bytes(),k=output.reduce((function(e,t){return e+String.fromCharCode(t)}),""),j="data:image/gif;base64,".concat(btoa(k)),e.abrupt("return",j);case 25:case"end":return e.stop()}}),e)})));return function(t,n,r,o,c){return e.apply(this,arguments)}}(),v={data:function(){return{TINT_COLOR:"#00FF00",originalGifURI:null,processedGifURI:null,pngFrames:[],frameDelays:[],isProcessing:!1,saturationAlpha:.35,luminosityAlpha:0}},methods:{onFileChange:function(e){var t=this;return Object(c.a)(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:(r=e.target.files[0])&&((o=new FileReader).onload=function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(n){var r,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.originalGifURI=n.target.result,e.next=3,d(t.originalGifURI);case 3:return r=e.sent,o=r.pngUris,c=r.delays,t.pngFrames=o,t.frameDelays=c,e.next=10,t.updateGif();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o.readAsDataURL(r));case 2:case"end":return n.stop()}}),n)})))()},updateGif:function(){var e=this;return Object(c.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.isProcessing=!0,e.pngFrames.length){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,Promise.all(e.pngFrames.map(e.processFrame));case 5:return n=t.sent,t.next=8,m(n,[],e.frameDelays);case 8:e.processedGifURI=t.sent,e.isProcessing=!1;case 10:case"end":return t.stop()}}),t)})))()},processFrame:function(e){var t=this;return Object(c.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n){var img=new Image;img.onload=function(){var canvas=document.createElement("canvas");canvas.width=img.width,canvas.height=img.height;var e=canvas.getContext("2d");e.drawImage(img,0,0);var r=e.getImageData(0,0,canvas.width,canvas.height),o=t.applyTintToFrame(r);e.putImageData(o,0,0),n(canvas.toDataURL("image/png"))},img.src=e})));case 1:case"end":return n.stop()}}),n)})))()},applyTintToFrame:function(e){for(var t=this.hexToRgb(this.TINT_COLOR),n=this.rgbToHsl.apply(this,Object(o.a)(t)),i=0;i<e.data.length;i+=4){var c=e.data[i],g=e.data[i+1],b=e.data[i+2],l=this.rgbToHsl(c,g,b),d=Object(r.a)(l,3),f=d[0],s=d[1],h=d[2];f=n[0],s=s*(1-this.saturationAlpha)+n[1]*this.saturationAlpha,h=h*(1-this.luminosityAlpha)+n[2]*this.luminosityAlpha;var m=this.hslToRgb(f,s,h),v=Object(r.a)(m,3),w=v[0],y=v[1],x=v[2];e.data[i]=w,e.data[i+1]=y,e.data[i+2]=x}return e},downloadGif:function(){var link=document.createElement("a");link.href=this.processedGifURI,link.download="tinted_gif.gif",link.click()},rgbToHsl:function(e,g,b){e/=255,g/=255,b/=255;var t,s,n=Math.max(e,g,b),r=Math.min(e,g,b),o=(n+r)/2;if(n===r)t=s=0;else{var c=n-r;switch(s=o>.5?c/(2-n-r):c/(n+r),n){case e:t=(g-b)/c+(g<b?6:0);break;case g:t=(b-e)/c+2;break;case b:t=(e-g)/c+4}t/=6}return[t,s,o]},hslToRgb:function(e,s,t){var n,g,b;if(0===s)n=g=b=t;else{var r=function(p,q,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?p+6*(q-p)*e:e<.5?q:e<2/3?p+(q-p)*(2/3-e)*6:p},q=t<.5?t*(1+s):t+s-t*s,p=2*t-q;n=r(p,q,e+1/3),g=r(p,q,e),b=r(p,q,e-1/3)}return[Math.round(255*n),Math.round(255*g),Math.round(255*b)]},hexToRgb:function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:null}}},w=v,y=(n(339),n(56)),component=Object(y.a)(w,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("input",{attrs:{type:"file",accept:"image/gif"},on:{change:e.onFileChange}}),e._v(" "),t("div",{staticStyle:{width:"100%","justify-content":"center",display:"flex",position:"relative",height:"200px"}},[e.processedGifURI?t("div",{staticStyle:{position:"absolute"},style:{opacity:e.isProcessing?.25:1}},[t("img",{staticStyle:{margin:"0",height:"200px"},attrs:{src:e.processedGifURI,alt:"Processed GIF"}})]):e._e(),e._v(" "),e.isProcessing?t("div",{staticStyle:{position:"absolute",display:"flex","align-items":"center",height:"200px"}},[t("Loader")],1):e._e(),e._v(" "),e.isProcessing||e.processedGifURI?e._e():t("div",{staticStyle:{position:"absolute",height:"200px"}})]),e._v(" "),t("div",[t("label",{attrs:{for:"saturationSlider"}},[e._v("Saturation Alpha:")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.saturationAlpha,expression:"saturationAlpha"}],attrs:{disabled:e.isProcessing||!e.originalGifURI,type:"range",id:"saturationSlider",min:"0",max:"1",step:"0.01"},domProps:{value:e.saturationAlpha},on:{input:e.updateGif,__r:function(t){e.saturationAlpha=t.target.value}}})]),e._v(" "),t("div",[t("label",{attrs:{for:"luminositySlider"}},[e._v("Luminosity Alpha:")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.luminosityAlpha,expression:"luminosityAlpha"}],attrs:{disabled:e.isProcessing||!e.originalGifURI,type:"range",id:"luminositySlider",min:"0",max:"1",step:"0.01"},domProps:{value:e.luminosityAlpha},on:{input:e.updateGif,__r:function(t){e.luminosityAlpha=t.target.value}}})]),e._v(" "),t("button",{attrs:{disabled:e.isProcessing||!e.originalGifURI},on:{click:e.downloadGif}},[e._v("Download GIF")])])}),[],!1,null,"c0b56fcc",null);t.default=component.exports;installComponents(component,{Loader:n(318).default})}}]);